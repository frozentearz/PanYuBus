# PanYuBus  
监控广州番禺地区的部分公交车位置，以及提供相关的生活服务  

1. 每天早上7点启动程序，运行 itchat，并通过邮件发送登录二维码到本机  
2. 本机授权登录，itchat 发送通知给我，告诉我下一趟 番68 在哪，估计还有多久达到

**PS:** 第一次安装请删除 *panyubus.log* 文件！！！  
**PSS:** 请尽量使用 Python3 ！

crontab:
###### 每个工作日早上 6:30 分启动程序  
```
    30 6 * * 1,2,3,4,5 ~/start.sh
```

#### 相关文档：  
>[Crontab 简单实现树莓派语音闹钟](https://zhuanlan.zhihu.com/p/34195493)  
>[公交车实时API](http://h5.thecampus.cc/api/v1/search?name=1) 

#### @TODO  
- 设置 Cron 规则，定时启动脚本  
- 逻辑修改：车到再进行提醒  

#### @Ideas  
- 优化、简化微信扫二维码流程：  
    - 公众号每天早上6:30私发微信登陆二维码（通过公众号）  
    - 搭建网站，访问 API 进入二维码扫码（需要搭站）  
- 用户输入起始-终点，判断 Direction ，获取 API_url，

#### 逻辑分析：  
###### For User：  
V1: 每天早上固定时间发送公交车给用户;  
V2: 等每天早上服务启动后，用户输入起点站，以及提前几个站提醒;  
V3: 等每天早上服务启动后，用户输入起点，终点站，逻辑进行判断 Direction，动态获取车辆方向;  

###### For Admin：
V1: 
>每天早上固定时间启动计划任务，引导启动程序  
>程序使用 **itchat** 模块发送微信登陆二维码到邮箱，手动扫码登陆  
>程序再获取特定路线特定方向的实时公交位置，并以登陆的微信发送信息给用户提醒;  

V2: 需要优化二维码登录流程  
V3: 树莓派闹钟登陆微信  